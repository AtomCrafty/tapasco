% API Hierarchy for MuSyCo-ArEx.
% Author: J. Korinth (TU Darmstadt), jk@esa.cs.tu-darmstadt.de
\documentclass[border=2pt,varwidth,10pt]{standalone}
\usepackage{tikz}
\usetikzlibrary{calc, backgrounds, patterns}
\renewcommand\rmdefault{\sfdefault}
\input{../esacolors}

\begin{document}
\def\cw{40pt}
\def\ch{26pt}
\def\xgw{8pt}
\def\ygw{0.25*\xgw}
\begin{tikzpicture}[x=\cw+\xgw, y=\ch+\ygw,line width=1.5pt,
    api/.style={font=\small\bfseries\color{black}, draw=black!30!esa5, fill=white, text width=\cw, align=center, minimum height=\ch, anchor=north west},
    ll/.style={fill=black!40, font=\small\bfseries},
    inv/.style={fill=esa5, font=\small\bfseries\color{white}}
  ]
  \begin{scope}[every node/.style={rounded corners, api}, dw/.style={text width=2*\cw + \xgw}]
  \node [dw,ll] at (0,0) {Application};
  \node [dw] at (0,-1) {TPC API};
  \node [dw, inv] at (0,-2) {Platform API};
  \node at (0,-3) {Device\\Driver};
  \node [ll] at (0,-4) {Hardware};
  \node at (1,-3) {Simulator (DPI)};
  \node [ll] at (1,-4) {Simulator};
  \end{scope}

  \begin{pgfonlayer}{background}
    \shade [top color=esa0, bottom color=esa3, line width=1.5pt, draw=esa4, xshift=-0.5*\xgw, yshift=\ygw] (0,0) rectangle ($(2,-5) +(\xgw, -2*\ygw)$);
  \end{pgfonlayer}
\end{tikzpicture}
\end{document}
